<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–µ–Ω–∞–∂—ë—Ä —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-atom"></i>
                <h1>–¢—Ä–µ–Ω–∞–∂—ë—Ä —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª</h1>
            </div>
            <div class="user-info">
                <div class="user-name" id="userNameDisplay">–ì–æ—Å—Ç—å</div>
                <button class="btn-icon" id="changeUserBtn" title="–°–º–µ–Ω–∏—Ç—å –∏–º—è">
                    <i class="fas fa-user-edit"></i>
                </button>
            </div>
        </header>

        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <section class="menu-section" id="mainMenu">
            <div class="menu-cards">
                <div class="menu-card" id="startTestBtn">
                    <div class="menu-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                    <h3>–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                    <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª</p>
                </div>

                <div class="menu-card" id="addFormulaBtn">
                    <div class="menu-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <h3>–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É</h3>
                    <p>–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—é —Ñ–æ—Ä–º—É–ª—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</p>
                </div>

                <div class="menu-card" id="viewFormulasBtn">
                    <div class="menu-icon">
                        <i class="fas fa-list-alt"></i>
                    </div>
                    <h3>–í—Å–µ —Ñ–æ—Ä–º—É–ª—ã</h3>
                    <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª</p>
                </div>

                <div class="menu-card" id="statisticsBtn">
                    <div class="menu-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <p>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞—à–∏—Ö —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–π</p>
                </div>
            </div>
        </section>

        <!-- –û–∫–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <section class="test-section hidden" id="testSection">
            <div class="test-header">
                <h2><i class="fas fa-clipboard-check"></i> –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
                <button class="btn-secondary" id="backToMenuBtn">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
            </div>

            <div class="progress-container">
                <div class="progress-info">
                    <span id="currentQuestion">1</span> –∏–∑ <span id="totalQuestions">10</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>

            <div class="question-card">
                <h3 id="formulaName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã</h3>
                <div class="formula-input-container">
                    <input type="text" id="formulaInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ–æ—Ä–º—É–ª—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: F = m * a)" autocomplete="off">
                    <div class="hint">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ * –¥–ª—è —É–º–Ω–æ–∂–µ–Ω–∏—è, / –¥–ª—è –¥–µ–ª–µ–Ω–∏—è, ^ –¥–ª—è —Å—Ç–µ–ø–µ–Ω–∏</div>
                </div>
                
                <div class="buttons-container">
                    <button class="btn" id="checkAnswerBtn">
                        <i class="fas fa-check"></i> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                    </button>
                    <button class="btn-secondary" id="skipQuestionBtn">
                        <i class="fas fa-forward"></i> –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
                    </button>
                </div>

                <div class="result-container hidden" id="resultContainer">
                    <div class="result-message" id="resultMessage"></div>
                    <div class="correct-answer hidden" id="correctAnswerContainer">
                        –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: <span id="correctAnswer"></span>
                    </div>
                    <button class="btn" id="nextQuestionBtn">
                        <i class="fas fa-arrow-right"></i> –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
                    </button>
                </div>
            </div>

            <div class="score-board hidden" id="scoreBoard">
                <h3><i class="fas fa-trophy"></i> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞</h3>
                <div class="score-stats">
                    <div class="stat-item">
                        <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω–æ:</div>
                        <div class="stat-value correct" id="correctCount">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:</div>
                        <div class="stat-value incorrect" id="incorrectCount">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–ü—Ä–æ–ø—É—â–µ–Ω–æ:</div>
                        <div class="stat-value skipped" id="skippedCount">0</div>
                    </div>
                    <div class="stat-item total">
                        <div class="stat-label">–í—Å–µ–≥–æ:</div>
                        <div class="stat-value" id="totalCount">0</div>
                    </div>
                </div>
                <div class="percentage" id="percentage">0%</div>
                <div class="grade" id="grade">–û—Ü–µ–Ω–∫–∞: -</div>
                <button class="btn" id="finishTestBtn">
                    <i class="fas fa-home"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é
                </button>
            </div>
        </section>

        <!-- –û–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª—ã -->
        <section class="add-formula-section hidden" id="addFormulaSection">
            <div class="test-header">
                <h2><i class="fas fa-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ–æ—Ä–º—É–ª—É</h2>
                <button class="btn-secondary" id="backFromAddBtn">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
            </div>

            <div class="form-container">
                <div class="form-group">
                    <label for="newFormulaName">
                        <i class="fas fa-heading"></i> –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã
                    </label>
                    <input type="text" id="newFormulaName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í—Ç–æ—Ä–æ–π –∑–∞–∫–æ–Ω –ù—å—é—Ç–æ–Ω–∞">
                </div>

                <div class="form-group">
                    <label for="newFormulaText">
                        <i class="fas fa-square-root-alt"></i> –§–æ—Ä–º—É–ª–∞
                    </label>
                    <input type="text" id="newFormulaText" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: F = m * a">
                    <div class="hint">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è</div>
                </div>

                <div class="form-group">
                    <label for="formulaCategory">
                        <i class="fas fa-folder"></i> –ö–∞—Ç–µ–≥–æ—Ä–∏—è
                    </label>
                    <select id="formulaCategory">
                        <option value="–ú–µ—Ö–∞–Ω–∏–∫–∞">–ú–µ—Ö–∞–Ω–∏–∫–∞</option>
                        <option value="–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ">–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ</option>
                        <option value="–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞">–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞</option>
                        <option value="–û–ø—Ç–∏–∫–∞">–û–ø—Ç–∏–∫–∞</option>
                        <option value="–ö–≤–∞–Ω—Ç–æ–≤–∞—è —Ñ–∏–∑–∏–∫–∞">–ö–≤–∞–Ω—Ç–æ–≤–∞—è —Ñ–∏–∑–∏–∫–∞</option>
                        <option value="–ü—Ä–æ—á–µ–µ">–ü—Ä–æ—á–µ–µ</option>
                    </select>
                </div>

                <div class="buttons-container">
                    <button class="btn" id="saveFormulaBtn">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É
                    </button>
                    <button class="btn-secondary" id="clearFormulaBtn">
                        <i class="fas fa-eraser"></i> –û—á–∏—Å—Ç–∏—Ç—å
                    </button>
                </div>

                <div class="success-message hidden" id="addSuccessMessage">
                    <i class="fas fa-check-circle"></i> –§–æ—Ä–º—É–ª–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!
                </div>
            </div>
        </section>

        <!-- –û–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º—É–ª -->
        <section class="view-formulas-section hidden" id="viewFormulasSection">
            <div class="test-header">
                <h2><i class="fas fa-list-alt"></i> –í—Å–µ —Ñ–æ—Ä–º—É–ª—ã</h2>
                <button class="btn-secondary" id="backFromViewBtn">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
                <div class="header-actions">
                    <button class="btn-secondary" id="exportFormulasBtn">
                        <i class="fas fa-download"></i> –≠–∫—Å–ø–æ—Ä—Ç
                    </button>
                    <button class="btn-secondary" id="importFormulasBtn">
                        <i class="fas fa-upload"></i> –ò–º–ø–æ—Ä—Ç
                    </button>
                </div>
            </div>

            <div class="filters">
                <select id="categoryFilter">
                    <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                    <option value="–ú–µ—Ö–∞–Ω–∏–∫–∞">–ú–µ—Ö–∞–Ω–∏–∫–∞</option>
                    <option value="–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ">–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ</option>
                    <option value="–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞">–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞</option>
                    <option value="–û–ø—Ç–∏–∫–∞">–û–ø—Ç–∏–∫–∞</option>
                    <option value="–ö–≤–∞–Ω—Ç–æ–≤–∞—è —Ñ–∏–∑–∏–∫–∞">–ö–≤–∞–Ω—Ç–æ–≤–∞—è —Ñ–∏–∑–∏–∫–∞</option>
                    <option value="–ü—Ä–æ—á–µ–µ">–ü—Ä–æ—á–µ–µ</option>
                </select>
                <input type="text" id="searchFormula" placeholder="–ü–æ–∏—Å–∫ —Ñ–æ—Ä–º—É–ª...">
                <button class="btn-secondary" id="clearFilterBtn">
                    <i class="fas fa-times"></i> –û—á–∏—Å—Ç–∏—Ç—å
                </button>
            </div>

            <div class="formulas-list" id="formulasList">
                <!-- –§–æ—Ä–º—É–ª—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—é–¥–∞ -->
            </div>

            <div class="empty-state" id="emptyFormulasList">
                <i class="fas fa-inbox"></i>
                <h3>–ù–µ—Ç —Ñ–æ—Ä–º—É–ª</h3>
                <p>–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é —Ñ–æ—Ä–º—É–ª—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</p>
            </div>
        </section>

        <!-- –û–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <section class="statistics-section hidden" id="statisticsSection">
            <div class="test-header">
                <h2><i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <button class="btn-secondary" id="backFromStatsBtn">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
                <div class="header-actions">
                    <button class="btn-secondary" id="clearStatsBtn">
                        <i class="fas fa-trash"></i> –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
                    </button>
                </div>
            </div>

            <div class="stats-container">
                <div class="stats-summary">
                    <div class="stat-card">
                        <div class="stat-card-icon total-tests">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="stat-card-content">
                            <div class="stat-card-value" id="totalTests">0</div>
                            <div class="stat-card-label">–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card-icon avg-score">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="stat-card-content">
                            <div class="stat-card-value" id="avgScore">0%</div>
                            <div class="stat-card-label">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card-icon best-score">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="stat-card-content">
                            <div class="stat-card-value" id="bestScore">0%</div>
                            <div class="stat-card-label">–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card-icon formulas-count">
                            <i class="fas fa-square-root-alt"></i>
                        </div>
                        <div class="stat-card-content">
                            <div class="stat-card-value" id="totalFormulasCount">0</div>
                            <div class="stat-card-label">–í—Å–µ–≥–æ —Ñ–æ—Ä–º—É–ª</div>
                        </div>
                    </div>
                </div>

                <div class="history-section">
                    <h3><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–π</h3>
                    <div class="history-list" id="historyList">
                        <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —Å—é–¥–∞ -->
                    </div>
                    <div class="empty-state" id="emptyHistory">
                        <i class="fas fa-chart-line"></i>
                        <h3>–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</p>
                    </div>
                </div>

                <div class="chart-section">
                    <h3><i class="fas fa-chart-pie"></i> –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h3>
                    <div class="chart-container">
                        <canvas id="resultsChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="footer">
            <p>–¢—Ä–µ–Ω–∞–∂—ë—Ä —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª ¬© 2024</p>
            <p>–°–æ–∑–¥–∞–Ω–æ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è —Ñ–∏–∑–∏–∫–∏</p>
            <div class="footer-links">
                <button class="btn-link" id="exportDataBtn">
                    <i class="fas fa-file-export"></i> –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                </button>
                <button class="btn-link" id="importDataBtn">
                    <i class="fas fa-file-import"></i> –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                </button>
                <button class="btn-link" id="resetDataBtn">
                    <i class="fas fa-redo"></i> –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
                </button>
            </div>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–º–µ–Ω—ã –∏–º–µ–Ω–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: id —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å JS) -->
    <div class="modal-overlay hidden" id="userNameModal">
        <div class="modal modal-sm">
            <h2><i class="fas fa-user-edit"></i> –ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è</h2>
            <input type="text" id="userNameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20">
            <div class="modal-buttons">
                <button class="btn" id="saveUserNameBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="btn-secondary" id="cancelUserNameBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö -->
    <div class="modal-overlay hidden" id="importModal">
        <div class="modal">
            <h2><i class="fas fa-file-import"></i> –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h2>
            <textarea id="importDataText" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ JSON –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞..." rows="10"></textarea>
            <div class="modal-buttons">
                <button class="btn" id="confirmImportBtn">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                <button class="btn-secondary" id="cancelImportBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–±—Ä–æ—Å–∞ -->
    <div class="modal-overlay hidden" id="resetModal">
        <div class="modal">
            <h2><i class="fas fa-exclamation-triangle"></i> –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–±—Ä–æ—Å–∞</h2>
            <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
            <div class="modal-buttons">
                <button class="btn-danger" id="confirmResetBtn">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>
                <button class="btn-secondary" id="cancelResetBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>
